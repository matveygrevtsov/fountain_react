(this.webpackJsonpfountain_react=this.webpackJsonpfountain_react||[]).push([[0],{11:function(t,e,i){},13:function(t,e,i){"use strict";i.r(e);var n=i(0),s=i.n(n),a=i(6),r=i.n(a),h=(i(11),i(5)),c=i(3),o=i(4),u=function(t){return Math.random()*(t[1]-t[0])+t[0]},d=function(t){return Promise.all(t.map((function(t){return function(t){return new Promise((function(e,i){var n=new Image;n.src=t,n.onload=function(){return e(n)},n.onerror=function(t){return i(t)}}))}(t)})))},v=function(){var t=0;return function(e){var i=e<500?0:e-t;return t=e,i}}(),f=function(){function t(e){Object(c.a)(this,t),this.animationSpeed=e.animationSpeed,this.power=e.power,this.spreadAngle=e.spreadAngle,this.g=e.gravity,this.itemsSize=[e.minItemsSize,e.maxItemsSize],this.rotationSpeed=e.rotationSpeed,this.skin=e.skin,this.canvas=e.canvasRef,this.id=e.id,this.resetParams(),this.t=u([-10,0])}return Object(o.a)(t,[{key:"resetParams",value:function(){this.t=0,this.shotAngle=u([Math.PI*(180-this.spreadAngle)/360,Math.PI*(180+this.spreadAngle)/360]),this.width=u(this.itemsSize),this.x=(this.canvas.current.width-this.width)/2,this.y=this.canvas.current.height}},{key:"incrementTime",value:function(){this.t+=this.animationSpeed*t.period/1e3}},{key:"hidden",value:function(){var t=this.canvas.current;return this.y>t.height+2*this.width||this.y<-2*this.width||this.x>t.width+2*this.width||this.x<-2*this.width}},{key:"move",value:function(){var t=this.canvas.current;this.incrementTime(),this.x=(t.width-this.width)/2+this.power*this.t*Math.cos(this.shotAngle),this.y=t.height-this.power*this.t*Math.sin(this.shotAngle)+this.g*this.t*this.t/2,this.hidden()&&this.resetParams()}},{key:"render",value:function(){var t=this.canvas.current.getContext("2d");t.save(),t.translate(this.x+this.width/2,this.y+this.width/2),t.rotate(this.t*this.rotationSpeed*(this.id%2*2-1)),t.translate(-this.x-this.width/2,-this.y-this.width/2),t.drawImage(this.skin,this.x,this.y,this.width,this.width),t.restore(),this.move()}}]),t}(),m=function(){function t(e){var i=this;Object(c.a)(this,t),this.state=e,this.canvas=e.canvasRef,this.context=e.canvasRef.current.context,this.setCanvasSize(),window.addEventListener("resize",(function(){return i.setCanvasSize()}))}return Object(o.a)(t,[{key:"setCanvasSize",value:function(){this.canvas.current.width=window.innerWidth,this.canvas.current.height=window.innerHeight}},{key:"createItems",value:function(){var t=this;return d(this.state.imgSkins).then((function(e){for(var i=[],n=0;n<t.state.itemsNumber;n++)i.push(new f(Object(h.a)(Object(h.a)({},t.state),{},{skin:e[n%e.length],id:n})));return i}))}},{key:"start",value:function(){var t=this;this.createItems().then((function(e){var i=t.canvas.current.getContext("2d");requestAnimationFrame((function n(s){requestAnimationFrame(n),f.period=v(s),i.clearRect(0,0,t.canvas.current.width,t.canvas.current.height),e.forEach((function(t){return t.render()}))}))}),(function(){return console.log("Images loading error")}))}}]),t}(),g=i.p+"static/media/coin1.2831f4f9.svg",w=i.p+"static/media/coin2.323f5163.svg",l=i(1),p=function(){var t=Object(n.useRef)(null);return Object(n.useEffect)((function(){new m({animationSpeed:2.9,power:155,itemsNumber:52,spreadAngle:99,gravity:8,minItemsSize:215,maxItemsSize:421,rotationSpeed:.7,imgSkins:[g,w],canvasRef:t}).start()}),[]),Object(l.jsx)("canvas",{ref:t})},S=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,14)).then((function(e){var i=e.getCLS,n=e.getFID,s=e.getFCP,a=e.getLCP,r=e.getTTFB;i(t),n(t),s(t),a(t),r(t)}))};r.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(p,{})}),document.getElementById("root")),S()}},[[13,1,2]]]);
//# sourceMappingURL=main.c930a2d2.chunk.js.map